(window["webpackJsonpfile-allocation"]=window["webpackJsonpfile-allocation"]||[]).push([[0],[,,function(e,t,n){e.exports={scheduler:"App_scheduler__1vHEb",header:"App_header__2L3DO",controls:"App_controls__2MSL9",timeline:"App_timeline__1jgvV",customTimeline:"App_customTimeline__LuqHI",error:"App_error__1LS0k"}},function(e,t,n){e.exports={counter:"counter_counter__3ZU8z",number:"counter_number__QGA_A"}},function(e,t,n){e.exports={legend:"legend_legend__28fLd",legendItem:"legend_legendItem__2j_9d"}},,,function(e,t,n){e.exports={select:"select_select__XlnEk"}},function(e,t,n){e.exports={button:"button_button__H5057"}},function(e,t,n){e.exports={visualizer:"visualizer_visualizer__IqrZE"}},,function(e,t,n){e.exports={block:"block_block__2bW7g"}},function(e,t,n){e.exports={blockRow:"blockRow_blockRow__2nC0I"}},function(e,t,n){e.exports={link:"link_link__24NwO"}},,function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(6),l=n.n(c),i=n(1),o=n(7),s=n.n(o),u=function(e){var t=e.options,n=void 0===t?[]:t,r=e.onChange,c="object"===typeof n[0];return a.a.createElement("select",{onChange:r,className:s.a.select},n.map((function(e){return c?a.a.createElement("option",{key:e.value,value:e.value},e.label):a.a.createElement("option",{key:e},e)})))},m=n(8),f=n.n(m),d=function(e){var t=e.label,n=e.onClick,r=e.disabled;return a.a.createElement("button",{className:f.a.button,disabled:r,onClick:n},t)},p=n(14);var h=function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])};function v(e){this.queue=e.map((function(e){return e})),this.currentState=Array(50).fill(null),this.history=[],this.finished=!1}v.prototype.tick=function(){var e=this.queue.shift();-1!==e.size?this.addFile(e):this.removeFile(e),this.snapshot(),0===this.queue.length&&(this.finished=!0)},v.prototype.addFile=function(e){for(var t=e.size,n=0;n<this.currentState.length&&(null!==this.currentState[n]||(this.currentState[n]=e.letter,0!==(t-=1)));n++);if(t>0)throw new Error("File ".concat(e.letter," did not fit!"))},v.prototype.removeFile=function(e){for(var t=0;t<this.currentState.length;t++)this.currentState[t]===e.letter&&(this.currentState[t]=null)},v.prototype.snapshot=function(){this.history.push(this.currentState.slice())},v.prototype.getFragmentedFiles=function(){for(var e,t=this,n=[],r=[],a=function(a){var c=t.currentState[a];c&&(n.find((function(e){return e.letter===c}))?(n.find((function(e){return e.letter===c})).count++,e===c||r.includes(c)||r.push({letter:c})):n.push({letter:c,count:1})),e=c},c=0;c<this.currentState.length;c++)a(c);return{allFiles:n,fragmentedFiles:r}},v.prototype.getFragmentationCountPercent=function(){var e=this.getFragmentedFiles(),t=e.allFiles,n=e.fragmentedFiles;return Math.round(n.length/t.length*1e4)/100},v.prototype.getFragmentationSpacePercent=function(){var e=this.getFragmentedFiles(),t=e.allFiles,n=e.fragmentedFiles,r=t.reduce((function(e,t){return e+t.count}),0),a=n.reduce((function(e,n){return e+t.find((function(e){return e.letter===n.letter})).count}),0);return Math.round(a/r*1e4)/100};var E=v,b=function(e,t){try{return t(""),e.split(";").map((function(e,t){if(!e.match(/^[A-Z],(-|[0-9]+)$/))throw new Error("Invalid pattern!");var n=e.split(","),r=n[0],a=n[1];return{letter:r,size:"-"===a?-1:Number(a),index:t}}))}catch(n){return t(n.message),[]}},g=n(9),_=n.n(g),k=function(e){var t=e.processes,n=e.started,c=e.setStarted,l=e.setError,o=e.error,s=Object(r.useState)(new E(t)),u=Object(i.a)(s,2),m=u[0],f=u[1],d=Object(r.useState)(0),v=Object(i.a)(d,2),b=v[0],g=v[1];h((function(){k()}),n?1e3:null),Object(r.useEffect)((function(){n&&(g(0),l(""),f(new E(t)))}),[l,n,t]);var k=function(){try{m.tick()}catch(e){l(e.message),c(!1)}g(b+1),m.finished&&c(!1)};return a.a.createElement("div",{className:_.a.visualizer},a.a.createElement(B,{isIndexRow:!0,values:Object(p.a)(Array(50).keys()).map((function(e){return++e}))}),m.history.map((function(e,t){return a.a.createElement(B,{key:t,values:e})})),"Not enough space"===o&&a.a.createElement(B,{isErrorRow:!0,values:Array(50).fill(null)}),a.a.createElement(x,{stepCount:b,finished:m.finished,fragmentationCountPercent:m.getFragmentationCountPercent(),fragmentationSpacePercent:m.getFragmentationSpacePercent()}))},S=n(10),y=n.n(S),F=["A,2;B,3;A,-;C,4;D,5;B,-;E,15","A,4;B,3;C,6;D,5;B,-;E,5;A,-;F,10","A,2;B,3;C,4;D,5;B,-;E,7;D,-;F,10;A,-;G,1;H,1;G,-;I,10;J,8;I,-","custom"],w=["#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080"],N=n(11),j=n.n(N),O=function(e){var t=e.isInvisible,n=e.value,r=e.isIndexBlock,c=e.isErrorBlock;return a.a.createElement("div",{className:y()(j.a.block),style:{background:t||r||!n?"transparent":w["abcdefghijklmnopqrstuvwxyz".indexOf(n.toString().toLowerCase())],color:c?"red":"white"}},r?"".concat(n):c?"x":null)},A=n(3),I=n.n(A),x=function(e){var t=e.stepCount,n=e.finished,r=e.fragmentationCountPercent,c=e.fragmentationSpacePercent;return a.a.createElement("div",{className:I.a.counter},n&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("span",{className:I.a.number},r)," % of files are currently fragmented."),a.a.createElement("div",null,a.a.createElement("span",{className:I.a.number},c)," % of consumed space is consumed by fragmented files.")),a.a.createElement("div",null,"tick count: ",a.a.createElement("span",{className:I.a.number},t)))},C=n(12),z=n.n(C),B=function(e){var t=e.values,n=e.isIndexRow,r=e.isErrorRow;return a.a.createElement("div",{className:z.a.blockRow},t.map((function(e,t){return a.a.createElement(O,{isErrorBlock:r,key:t,value:e,isIndexBlock:n})})))},P=n(4),R=n.n(P),q=function(e){var t=e.processes;return t?a.a.createElement("div",{className:R.a.legend},a.a.createElement("div",{className:R.a.legendItem},a.a.createElement(O,{isInvisible:!0}),a.a.createElement("div",null,"File"),a.a.createElement("div",null,"Size")),t.map((function(e){return-1!==e.size&&a.a.createElement("div",{key:e.index,className:R.a.legendItem},a.a.createElement(O,{value:e.letter}),a.a.createElement("div",null,e.letter),a.a.createElement("div",null,e.size))}))):null},D=n(13),L=n.n(D),T=function(){return a.a.createElement("div",{className:L.a.link},a.a.createElement("a",{href:"https://ottmartens.github.io/cpu-algorithms/"},"CPU Scheduler"),a.a.createElement("a",{href:"https://ottmartens.github.io/ram-algorithms/"},"RAM Scheduler"),a.a.createElement("a",{href:"https://ottmartens.github.io/disk-algorithms/"},"Disk Scheduler"))},H=n(2),M=n.n(H),G=function(){var e=Object(r.useState)(F[0]),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Object(r.useState)(!1),o=Object(i.a)(l,2),s=o[0],m=o[1],f=Object(r.useState)([]),p=Object(i.a)(f,2),h=p[0],v=p[1],E=Object(r.useState)(""),g=Object(i.a)(E,2),_=g[0],S=g[1];return Object(r.useEffect)((function(){"custom"!==n&&v(b(n,S))}),[n]),a.a.createElement("div",{className:M.a.scheduler},a.a.createElement(T,null),a.a.createElement("header",{className:M.a.header},a.a.createElement("h1",{className:M.a.title},"File allocation"),a.a.createElement("div",{className:M.a.controls},a.a.createElement("div",{className:M.a.timeline},a.a.createElement("h3",null,"File queue"),a.a.createElement(u,{options:F,onChange:function(e){var t=e.target.value;c(t),m(!1)}}),"custom"===n&&a.a.createElement("input",{className:M.a.customTimeline,onBlur:function(e){v(b(e.target.value,S))},onKeyPress:function(e){"Enter"===e.key&&v(b(e.target.value,S))}}))),a.a.createElement(d,{disabled:"Invalid pattern!"===_,label:s?"STOP":"START",onClick:function(){m(!s)}}),_&&a.a.createElement("span",{className:M.a.error},_)),a.a.createElement(q,{processes:h}),a.a.createElement(k,{processes:h,started:s,setStarted:m,setError:S,error:_}))};l.a.render(a.a.createElement(G,null),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.8390cef0.chunk.js.map